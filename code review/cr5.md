# cr5：文件系统

## 功能完整性

尚可。目前提供的内容都能实现

## 可读性

较差。一是很多地方层层调用，代码逻辑不清晰，二是大型函数内部没有注释

## 可维护性

差。还有全局数据结构这种神奇的玩意，甚至新功能耦合进旧代码。

## 可扩展性

没有。没有按照后续需要扩展的方式去写。

## 可测试性

尚可。在自己的小环境中有测试

## 代码健壮性

逆天。还是老生常谈的问题，要修改参数传递方式，要做参数安全性检查。

## 2024年1月14日 会议记录

### 1. 一点小小的参数安全性检查问题

### 2. 扇入扇出太大，把接口拆分一下到不同的cpp文件里

### 3. 接口内部功能没有注释，新功能没有独立，而是耦合进原先函数

    文件分配表作为独立功能，不能是全局的数据结构，要作为新的独立的结构体，提供自身功能的接口

### 4. 文件系统不要有全局的，非功能性结构的数据结构

    就以里面三个全局的数据结构为例
```c++
    Folder *root = new Folder("root");
    std::map<int, File *> process_open_file;
    std::map<File *, int> file_open_num;
```
    一个单例作为Folder的成员属性，一个进程应该有的数据结构，一个应该独立出来的数据结构

### 5. 函数命名风格

居然还有这种混杂形式。

```c++
    void set_Name_Type(std::string str);
    void set_ID();
    void set_Content(std::string str);
```